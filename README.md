# tact-js
Library for bHaptics Haptic Devices

### Prerequisite
bHaptics Player has to be installed (window)


### DEMO
* https://elated-noyce-f0332a.netlify.com/

### Examples
```
# Open samples/index.html directory in browser (Example code)
```

### How to setup

You can import the generated bundle to use the whole library generated by this starter:

```javascript
import tactJs from 'tact-js'

tactJs.submit();
```

Additionally, you can import the transpiled modules from `dist/lib` in case you have a modular library:

```javascript
tactJs.addListener(function(msg) {
    if (msg.status === 'Connected') {
        console.log('connected');
    }
});
```


### How to use
1. Dot Mode - submitDot()

* Parameters
  * key: string;
  * position: 'VestFront' | 'VestBack' | 'Head' | 'ForearmL' | 'ForearmR'
  * points: array of object with (index, intensity)
      * index: [0, 19]
      * intensity: [1, 100] 
  * durationMillis: [50, 10000]

```javascript
var key = 'dot';
var position = 'VestFront'
var points = [{
    index : 10,
    intensity : 100
}];
var durationMillis = 1000; // 1000ms
const errorCode = tactJs.submitDot(key, position, points, durationMillis);
```

2. PathMode - submitPath()

* Parameters
  * key: string;
  * position: 'VestFront' | 'VestBack' | 'Head' | 'ForearmL' | 'ForearmR'
  * points: array of object with (x, y, intensity)
      * x: [0, 1]
      * y: [0, 1]
      * intensity: [1, 100] 
  * durationMillis: [50, 10000]
  
* Example
```javascript
var key = 'dot';
var position = 'VestFront'
var points = [{
    x : 0.5,
    y : 0.5,
    intensity : 100
}];
var durationMillis = 1000; // 1000ms
const errorCode = tactJs.submitPath(key, position, points, durationMillis);
```
* Error Code
    * 0: SUCCESS
    * 1: MESSAGE_NOT_DEFINED
    * 2: CONNECTION_NOT_ESTABLISHED
    * 3: FAILED_TO_SEND_MESSAGE


3.1. Tact File - submitRegistered()

* Parameters
  * key: string;
  
* Example
```javascript
const errorCode = tactJs.submitRegistered(key);
```
* Error Code
    * 0: SUCCESS
    * 1: MESSAGE_NOT_DEFINED
    * 2: CONNECTION_NOT_ESTABLISHED
    * 3: FAILED_TO_SEND_MESSAGE

3.2. Tact File - submitRegisteredWithRotationOption()

* Parameters
  * key: string;
  * object with (offsetAngleX, offsetY)
     * offsetAngleX: [0, 360]
     * offsetY: [-0.5, 0.5]
  
* Example
```javascript
var key = 'key';
var rotationOption = {offsetAngleX: 180, offsetY: 0.2};
var errorCode = tactJs.submitRegisteredWithRotationOption(key, rotationOption);
```

* Error Code
    * 0: SUCCESS
    * 1: MESSAGE_NOT_DEFINED
    * 2: CONNECTION_NOT_ESTABLISHED
    * 3: FAILED_TO_SEND_MESSAGE
